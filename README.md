# draw-line-crossroad-node

## Запуск
- Создание образа:` dts devel build -f`
- Запуск контейнера: `dts devel run`

## Параметр ROS "turn_direct"
Параметр определяет куда будет достраиваться дорога на перекрестке. Может принимать три значения ("l" - поворот налево , "u" - прямо, "r" - поворот направо). Поумолчанию стоит "u". Для изменения значения параметра во воремя работы ноды нужно:
- Открыть новую консоль в корне проэкта
- Узнать номер запущеного контейнера: `docker ps`
- Подключится к контейнеру : ` docker exec -it <номер контейнера> /bin/bash `
- Указать новое значение параметра: `rosparam set turn_direct "l"`


## Тестирование 
После запуска контейнера начнется обмен сообщениями(image) , чтобы просмотреть содержимое топика нужно открыть другую консоль в корне проэкта и ввести следующие команды:
- `dts start_gui_tools`
- `rosrun image_view image_view image:=/image`

## План разработки
1. Этап "Изучение":
  - [x] Установка зависимостей и инструментов 
  - [x] Создание простейших нод (Publisher and Subscriber) 
  
2. Этап "Виртуальная камера":
  - [x] Создать ноду "вирт. камера" которая публикует кадры из полученного в лаборатории видео 
  - [x] подключить библиотеки opencv и cv-bridge к ноде в докере 
  - [x] загружать в образ видео файл 
  - [x] Создать ноду которая подписывается на вирт. камеру и получет изображения. 
  - [x] Найти способ отображать сообщения (кадры) между нодами. 

3. Этап - "Встраивание алгоритма":
  - [x] Реализовать передачу параметров в ноду в реальном времени , для указания в какую сторону нужно будет поворачивать
  - [ ] Встроить в подписчика алгоритм.
  - [ ] Публиковать откорректированые кадры в новый топик.
  - [ ] Увидеть результат через визуализацию топика 
